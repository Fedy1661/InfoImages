{"version":3,"sources":["service/index.js","components/ViewImage/index.js","components/ViewImage/view-image.js","components/App/index.js","components/App/app.js","index.js"],"names":["getImages","a","async","fetch","res","json","getComments","id","ViewImage","service","Service","state","data","modalVisible","modalInfo","openModal","then","setState","beautifulNumber","number","length","formatDate","timestamp","date","Date","getDate","getMonth","getFullYear","this","pictures","className","map","url","onClick","key","src","alt","modal","comments","text","type","placeholder","width","height","viewBox","fill","xmlns","x1","y1","x2","y2","stroke","Component","App","ReactDOM","render","document","getElementById"],"mappings":"ySACIA,UAAY,0BAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACME,MAAM,sDADZ,cACNC,EADM,kBAAAH,EAAA,MAECG,EAAIC,QAFL,8E,KAIdC,YAAc,SAAOC,GAAP,eAAAN,EAAAC,OAAA,kEAAAD,EAAA,MACME,MAAM,qDAAD,OAAsDI,KADjE,cACNH,EADM,kBAAAH,EAAA,MAECG,EAAIC,QAFL,+ECHDG,E,2MCGbC,QAAU,IAAIC,E,EAEdC,MAAQ,CACNC,KAAM,KACNC,cAAc,EACdC,UAAW,M,EAQbC,UAAY,SAACR,GACX,EAAKE,QAAQH,YAAYC,GACtBS,MAAK,SAAAJ,GAAI,OAAI,EAAKK,SAAS,CAC1BH,UAAWF,EACXC,cAAc,Q,EAIpBK,gBAAkB,SAACC,GACjB,OAA6B,KAAxBA,EAAS,IAAIC,OACV,IAAN,OAAWD,GAENA,G,EAGTE,WAAa,SAACC,GACZ,IAAMC,EAAO,IAAIC,KAAKF,GACtB,MAAM,GAAN,OAAU,EAAKJ,gBAAgBK,EAAKE,WAApC,YAAkD,EAAKP,gBAAgBK,EAAKG,WAAa,GAAzF,YAA+F,EAAKR,gBAAgBK,EAAKI,iB,mFAtBtG,IAAD,OAClBC,KAAKnB,QAAQT,YACVgB,MAAK,SAAAJ,GAAI,OAAI,EAAKK,SAAS,CAAEL,c,+BAuBxB,IAAD,SACmCgB,KAAKjB,MAAvCC,EADD,EACCA,KAAMC,EADP,EACOA,aAAcC,EADrB,EACqBA,UACtBe,EAAWjB,GACf,yBAAKkB,UAAU,eACZlB,EAAKmB,KAAI,YAAkB,IAAfxB,EAAc,EAAdA,GAAIyB,EAAU,EAAVA,IACf,OACE,yBAAKF,UAAU,mBACbG,QAAS,kBAAM,EAAKlB,UAAUR,IAC9B2B,IAAK3B,EAAI4B,IAAKH,EAAKI,IAAK7B,QAI5B8B,EAAQxB,GACZ,yBAAKiB,UAAS,WACZ,yBAAKA,UAAU,SACb,yBAAKK,IAAKrB,EAAUkB,IAAKI,IAAKtB,EAAUP,GAAIuB,UAAU,iBACtD,yBAAKA,UAAU,mBACZhB,EAAUwB,SAASlB,OAAS,EAC3BN,EAAUwB,SAASP,KAAI,YAAyB,IAAtBQ,EAAqB,EAArBA,KAAMhB,EAAe,EAAfA,KAAMhB,EAAS,EAATA,GACpC,OACE,kBAAC,WAAD,CAAU2B,IAAK3B,GACb,yBAAKuB,UAAU,kBACb,yBAAKA,UAAU,eAAe,EAAKT,WAAWE,IAC9C,yBAAKO,UAAU,eAAeS,QAIjC,yBAAKT,UAAU,eAAf,2IAGT,yBAAKA,UAAU,eACb,2BAAOU,KAAK,OAAOC,YAAY,8CAAWX,UAAU,iBACpD,2BAAOU,KAAK,OAAOC,YAAY,wFAAkBX,UAAU,iBAC3D,4BAAQA,UAAU,iBAAlB,wHAEF,yBAAKA,UAAU,eAAeG,QAAS,kBAAM,EAAKhB,SAAS,CACzDJ,cAAc,MAEd,yBAAK6B,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAChE,0BAAMC,GAAG,UAAUC,GAAG,WAAWC,GAAG,UAAUC,GAAG,UAAUC,OAAO,UAClE,0BAAMJ,GAAG,WAAWC,GAAG,UAAUC,GAAG,UAAUC,GAAG,WAAWC,OAAO,cAK7E,OACE,oCACGtB,EACAQ,O,GAlF8Be,aCFxBC,ECEA,WACb,OACE,yBAAKvB,UAAU,aACb,wBAAIA,UAAU,SAAd,YACA,kBAAC,EAAD,QCANwB,IAASC,OAAO,kBAACF,EAAD,MAASG,SAASC,eAAe,U","file":"static/js/main.3c1cf2c9.chunk.js","sourcesContent":["export default class {\r\n    getImages = async () => {\r\n    const res = await fetch('https://boiling-refuge-66454.herokuapp.com/images');\r\n    return await res.json()\r\n  }\r\n  getComments = async (id) => {\r\n    const res = await fetch(`https://boiling-refuge-66454.herokuapp.com/images/${id}`);\r\n    return await res.json();\r\n  }\r\n}","import ViewImage from './view-image';\r\n\r\nexport default ViewImage;","import React, { Component, Fragment } from 'react';\r\n\r\nimport Service from '../../service';\r\n\r\nexport default class ViewImage extends Component {\r\n  service = new Service();\r\n\r\n  state = {\r\n    data: null,\r\n    modalVisible: false,\r\n    modalInfo: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.service.getImages()\r\n      .then(data => this.setState({ data }));\r\n  }\r\n\r\n  openModal = (id) => {\r\n    this.service.getComments(id)\r\n      .then(data => this.setState({\r\n        modalInfo: data,\r\n        modalVisible: true\r\n      }))\r\n  }\r\n\r\n  beautifulNumber = (number) => {\r\n    if ((number + '').length === 1) {\r\n      return `0${number}`\r\n    }\r\n    return number\r\n  }\r\n\r\n  formatDate = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    return `${this.beautifulNumber(date.getDate())}.${this.beautifulNumber(date.getMonth() + 1)}.${this.beautifulNumber(date.getFullYear())}`\r\n  }\r\n  \r\n  render() {\r\n    const { data, modalVisible, modalInfo } = this.state\r\n    const pictures = data &&\r\n      <div className=\"list-images\">\r\n        {data.map(({ id, url }) => {\r\n          return (\r\n            <img className=\"list-images__img\"\r\n              onClick={() => this.openModal(id)}\r\n              key={id} src={url} alt={id} />\r\n          )\r\n        })}\r\n      </div>\r\n    const modal = modalVisible &&\r\n      <div className={`overlay`}>\r\n        <div className=\"modal\">\r\n          <img src={modalInfo.url} alt={modalInfo.id} className=\"modal__image\" />\r\n          <div className=\"modal__comments\">\r\n            {modalInfo.comments.length > 0 ?\r\n              modalInfo.comments.map(({ text, date, id }) => {\r\n                return (\r\n                  <Fragment key={id}>\r\n                    <div className=\"modal__comment\">\r\n                      <div className=\"modal__date\">{this.formatDate(date)}</div>\r\n                      <div className=\"modal__text\">{text}</div>\r\n                    </div>\r\n                  </Fragment>\r\n                )\r\n              }) : <div className=\"modal__text\">Комментарии отсутствуют.</div>\r\n            }\r\n          </div>\r\n          <div className=\"modal__form\">\r\n            <input type=\"text\" placeholder=\"Ваше имя\" className=\"modal__input\" />\r\n            <input type=\"text\" placeholder=\"Ваш комментарий\" className=\"modal__input\" />\r\n            <button className=\"modal__button\">Оставить комментарий</button>\r\n          </div>\r\n          <div className=\"modal__close\" onClick={() => this.setState({\r\n            modalVisible: false\r\n          })}>\r\n            <svg width=\"20\" height=\"19\" viewBox=\"0 0 20 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <line x1=\"1.35355\" y1=\"0.646447\" x2=\"19.3536\" y2=\"18.6464\" stroke=\"black\" />\r\n              <line x1=\"0.646447\" y1=\"18.6464\" x2=\"18.6464\" y2=\"0.646446\" stroke=\"black\" />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </div>;\r\n    return (\r\n      <>\r\n        {pictures}\r\n        {modal}\r\n      </>\r\n    );\r\n  }\r\n\r\n}","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\n\r\nimport ViewImage from '../ViewImage';\r\n\r\nexport default () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"title\">Test app</h1>\r\n      <ViewImage />\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './styles/reset.css';\r\nimport './styles/index.css';\r\n\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}